{"version":3,"file":"index.js","sources":["js/index.coffee"],"names":[],"mappings":"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","sourcesContent":["app = document.getElementById 'app'\r\napp = document.getElementById 'app'\r\nareaID = document.getElementById 'area'\r\nscrollTopID = document.getElementById 'scroll-top'\r\n\r\nprofileUserData = ''\r\n\r\ngetProfile = ->\r\n  profileUrl = 'https://raw.githubusercontent.com/hexschool/test-profile/master/profile.json'\r\n  fetch profileUrl\r\n    .then (respons) ->\r\n      return respons.json()\r\n    .then (profileData) ->\r\n      profileUserData = profileData\r\n      updateProfile(profileUserData)\r\n      optionArea(profileUserData)\r\n    .catch (error)->\r\n      console.log error\r\n\r\noptionArea = (data) ->\r\n  newArea = filterArea(data)\r\n  newArea.forEach (item) ->\r\n    options = document.createElement('option')\r\n    options.textContent = item\r\n    area.appendChild options\r\n\r\nfilterArea = (data) ->\r\n  profile = data\r\n  cache = []\r\n  newArea = []\r\n\r\n  profile.forEach (item) ->\r\n    cache = cache.concat item.location\r\n\r\n  newArea = cache.filter (item, index) ->\r\n    cache.indexOf(item) == index\r\n\r\n  return newArea;\r\n\r\nupdateProfile = (profileData) ->\r\n  profile = profileData\r\n  str = ''\r\n  newArea = filterArea profile\r\n  newArea.forEach (area) ->\r\n    str += \"\r\n    <div class='col-md-12'>\r\n      <h3>\r\n        <i class='fas fa-map-marker-alt text-primary'></i>\r\n        他們希望在 <span class='text-primary'>#{area}</span> 工作\r\n      </h3>\r\n      <hr/>\r\n    </div>\"\r\n    profile.forEach (item) ->\r\n      a = item.location.some (val) ->\r\n        val == area\r\n      if (a) \r\n        str += \"\r\n          <div class='col-md-6 my-2'>\r\n          <div class='card h-100'>\r\n            <div class='card-body d-flex align-items-stretch'>\r\n              <div class='row flex-row-reverse flex-column'>\r\n                <div class='col-lg-5'>\r\n                  <div class='d-flex flex-column align-items-center'>\r\n                    <div class='profile-user-img-mobile d-md-none' style='background-image: url(#{item.imgUrl})'></div>\r\n                    <div class='profile-user-img d-md-block d-none' style='background-image: url(#{item.imgUrl})'></div>\r\n                    <div class='profile-type text-nowrap smail text-muted'>\r\n                      #{item.type.map (itemType) ->\r\n                          \"<span>#{itemType}</span>\"\r\n                        .join(' / ')}\r\n                    </div>\r\n                    #{ if item.experience != 0 then \"<div class='text-muted'>工作經歷 #{item.experience} 年</div>\" else ''}\r\n                  </div>\r\n                </div>\r\n                <div class='col-lg-7 d-flex flex-column align-self-stretch'>\r\n                  <h5 class='card-title font-weight-bold'>#{item.name}</h5>\r\n                  <div class='profile-location small text-muted'>\r\n                    <i class='fas fa-map-marker-alt'></i>\r\n                    #{item.location.map (itemLocation) ->\r\n                        \"<span>#{itemLocation}</span>\"\r\n                      .join(' / ')}\r\n                  </div>\r\n                  <div class='text-left'>#{item.job}</div>\r\n                  <p class='card-text profile-description text-muted h-100'>#{item.description}</p>\r\n                  <div class='profile-tags small text-muted'>\r\n                    #{item.tags.map (itemTages) ->\r\n                        \"<span class='d-inline-block'>#{itemTages}</span>\"\r\n                      .join(' / ')}\r\n                  </div>\r\n                  <div class='profile-connect text-right'>\r\n                    <a href='#{item.profileUrl}' class='btn btn-outline-success btn-block mt-2'>網羅人才</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\"\r\n  app.innerHTML = str\r\n\r\nfilterProfile = (profile, area) ->\r\n  str = ''\r\n  str += \"\r\n  <div class='col-md-12'>\r\n    <h3>\r\n      <i class='fas fa-map-marker-alt text-primary'></i>\r\n      他們希望在 <span class='text-primary'>#{area}</span> 工作\r\n    </h3>\r\n  </div>\"\r\n  profile.forEach (profileItem) ->\r\n    profileItem.location.forEach (item) ->\r\n      if (item == area)\r\n        str += \"\r\n        <div class='col-md-6 my-2'>\r\n          <div class='card h-100'>\r\n            <div class='card-body d-flex align-items-stretch'>\r\n              <div class='row flex-row-reverse flex-column'>\r\n                <div class='col-lg-5'>\r\n                  <div class='d-flex flex-column align-items-center'>\r\n                    <div class='profile-user-img-mobile d-md-none' style='background-image: url(#{profileItem.imgUrl})'></div>\r\n                    <div class='profile-user-img d-md-block d-none' style='background-image: url(#{profileItem.imgUrl})'></div>\r\n                    <div class='profile-type text-nowrap smail text-muted'>\r\n                      #{profileItem.type.map (itemType) ->\r\n                        \"<span>#{itemType}</span>\"\r\n                      .join(' / ')}\r\n                    </div>\r\n                    #{if profileItem.experience != 0 then \"<div class='text-muted'>工作經歷 #{profileItem.experience} 年</div>\" else ''\r\n                    }\r\n                  </div>\r\n                </div>\r\n                <div class='col-lg-7 d-flex flex-column align-self-stretch'>\r\n                  <h5 class='card-title font-weight-bold'>#{profileItem.name}</h5>\r\n                  <div class='profile-location small text-muted'>\r\n                    <i class='fas fa-map-marker-alt'></i>\r\n                    #{profileItem.location.map (itemLocation) ->\r\n                        \"<span>#{itemLocation}</span>\"\r\n                      .join(' / ')}\r\n                  </div>\r\n                  <div class='text-left'>#{profileItem.job}</div>\r\n                  <p class='card-text profile-description text-muted h-100'>#{profileItem.description}</p>\r\n                  <div class='profile-tags small text-muted'>\r\n                    #{profileItem.tags.map (itemTages) ->\r\n                        \"<span class='d-inline-block'>#{itemTages}</span>\"\r\n                      .join(' / ')}\r\n                  </div>\r\n                  <div class='profile-connect text-right'>\r\n                    <a href='#{profileItem.profileUrl}' class='btn btn-outline-success btn-block mt-2'>網羅人才</a>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\"\r\n  app.innerHTML = str\r\n\r\nscrollTopClick = (e) ->\r\n  e.preventDefault()\r\n  window.scrollTo\r\n    top: 0,\r\n    behavior: \"smooth\"\r\n\r\ngetProfile()\r\n\r\nwindow.addEventListener 'scroll', () ->\r\n  if window.scrollY > 100\r\n    scrollTopID.style.opacity = '1'\r\n  else\r\n    scrollTopID.style.opacity = '0'\r\n\r\nareaID.addEventListener 'change', (e) ->\r\n  if e.target.value == '全部'\r\n    updateProfile profileUserData\r\n  else\r\n    filterProfile profileUserData, e.target.value\r\n\r\nscrollTopID.addEventListener 'click', scrollTopClick"]}