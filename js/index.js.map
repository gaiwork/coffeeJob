{"version":3,"file":"index.js","sources":["js/index.coffee"],"names":[],"mappings":"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","sourcesContent":["app = document.getElementById 'app'\r\nareaID = document.getElementById 'area'\r\nscrollTopID = document.getElementById 'scroll-top'\r\n\r\nprofileUserData = ''\r\n\r\ngetProfile = ->\r\n  profileUrl = 'https://raw.githubusercontent.com/hexschool/Resume/master/profile.json'\r\n  fetch profileUrl\r\n    .then (respons) ->\r\n      return respons.json()\r\n    .then (profileData) ->\r\n      profileUserData = profileData\r\n      updateProfile(profileUserData)\r\n      optionArea(profileUserData)\r\n      return\r\n    .catch (error)->\r\n      console.log error\r\n      return\r\n\r\noptionArea = (data) ->\r\n  newArea = filterArea(data)\r\n  newArea.forEach (item) ->\r\n    options = document.createElement('option')\r\n    options.textContent = item\r\n    area.appendChild options\r\n\r\nfilterArea = (data) ->\r\n  profile = data\r\n  cache = []\r\n  newArea = []\r\n\r\n  profile.forEach (item) ->\r\n    cache = cache.concat item.location\r\n\r\n  newArea = cache.filter (item, index) ->\r\n    cache.indexOf(item) == index\r\n\r\n  return newArea;\r\n\r\nupdateProfile = (profileData) ->\r\n  profile = profileData\r\n  str = ''\r\n  newArea = filterArea profile\r\n  newArea.forEach (area) ->\r\n    str += hopeArea(area)\r\n    profile.forEach (item) ->\r\n      a = item.location.some (val) ->\r\n        val == area\r\n      if (a) \r\n        str += profileCard(item)\r\n  app.innerHTML = str\r\n\r\nfilterProfile = (profile, area) ->\r\n  str = ''\r\n  str += hopeArea(area)\r\n  \r\n  profile.forEach (profileItem) ->\r\n    profileItem.location.forEach (item) ->\r\n      if (item == area)\r\n        str += profileCard(profileItem)\r\n  app.innerHTML = str\r\n\r\n\r\nhopeArea = (area) ->\r\n  \"<div class='col-md-12'>\r\n    <h3>\r\n      <i class='fas fa-map-marker-alt text-primary'></i>\r\n      他們希望在 <span class='text-primary'>#{area}</span> 工作\r\n    </h3>\r\n    <hr/>\r\n  </div>\"\r\n\r\nprofileCard = (item) -> \r\n  return \"<div class='col-md-6 my-2'>\r\n  <div class='card h-100'>\r\n    <div class='card-body'>\r\n      <div class='row flex-row-reverse h-100'>\r\n        <div class='col-lg-5'>\r\n          <div class='d-flex flex-column align-items-center'>\r\n            <div class='profile-user-img-mobile d-md-none' style='background-image: url(#{item.imgUrl})'></div>\r\n            <div class='profile-user-img d-md-block d-none' style='background-image: url(#{item.imgUrl})'></div>\r\n            <div class='profile-type text-nowrap smail text-muted'>\r\n              #{item.type.map (itemType) ->\r\n                  \"<span>#{itemType}</span>\"\r\n                .join(' / ')}\r\n            </div>\r\n            #{ if item.experience != 0 then \"<div class='text-muted'>工作經歷 #{item.experience} 年</div>\" else ''}\r\n          </div>\r\n        </div>\r\n        <div class='col-lg-7 d-flex flex-column'>\r\n          <h5 class='card-title font-weight-bold'>#{item.name}</h5>\r\n          <div class='profile-location small text-muted'>\r\n            <i class='fas fa-map-marker-alt'></i>\r\n            #{item.location.map (itemLocation) ->\r\n                \"<span>#{itemLocation}</span>\"\r\n              .join(' / ')}\r\n          </div>\r\n          <div class='text-left'>#{item.job}</div>\r\n          <p class='card-text profile-description text-muted'>#{item.description}</p>\r\n          <div class='profile-tags small text-muted mt-auto'>\r\n            #{item.tags.map (itemTages) ->\r\n                \"<span class='d-inline-block'>#{itemTages}</span>\"\r\n              .join(' / ')}\r\n          </div>\r\n          <div class='profile-connect'>\r\n            #{\r\n              if item.profileUrl then \"<a href='#{item.profileUrl}' class='btn btn-outline-success btn-block mt-2'>網羅人才</a>\" else \"<a href='#' class='btn btn-outline-success btn-block mt-2 disabled' tabindex='-1' role='button' aria-disabled='true'><i class='fab fa-angellist'></i> 成功媒合！</a>\"\r\n            }\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\"\r\n\r\n\r\nscrollTopClick = (e) ->\r\n  e.preventDefault()\r\n  window.scrollTo\r\n    top: 0,\r\n    behavior: \"smooth\"\r\n\r\ngetProfile()\r\n\r\nwindow.addEventListener 'scroll', () ->\r\n  if window.scrollY > 100\r\n    scrollTopID.style.opacity = '1'\r\n  else\r\n    scrollTopID.style.opacity = '0'\r\n\r\nareaID.addEventListener 'change', (e) ->\r\n  if e.target.value == '全部'\r\n    updateProfile profileUserData\r\n  else\r\n    filterProfile profileUserData, e.target.value\r\n\r\nscrollTopID.addEventListener 'click', scrollTopClick"]}